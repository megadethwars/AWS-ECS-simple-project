# ConfigMap para ambiente PROD
apiVersion: v1
kind: ConfigMap
metadata:
  name: flask-config
  namespace: flask-app-prod
  labels:
    app: flask-iot-app
    environment: prod
data:
  APP_ENV: "prod"
  FLASK_DEBUG: "False"  # PROD: Nunca debug en producción
  FLASK_HOST: "0.0.0.0"
  FLASK_PORT: "5000"
  LOG_LEVEL: "WARNING"  # PROD: Solo warnings y errores
  DATABASE_URL: "postgresql://flask_user:password@postgres-prod:5432/flask_prod_db"
  REDIS_URL: "redis://redis-prod-cluster:6379/0"
  # Variables específicas del ambiente PROD
  API_RATE_LIMIT: "100"  # PROD: Más restrictivo
  CACHE_TTL: "1800"  # 30 minutos - cache más largo
  MAX_CONTENT_LENGTH: "4194304"  # 4MB - más restrictivo
  # Configuraciones de producción
  TESTING_ENABLED: "False"
  MOCK_EXTERNAL_APIs: "False"
  SSL_REQUIRED: "True"
  # Configuraciones de seguridad
  SESSION_COOKIE_SECURE: "True"
  SESSION_COOKIE_HTTPONLY: "True"
  SESSION_COOKIE_SAMESITE: "Lax"
  # Configuraciones de performance
  WORKERS: "4"
  CONNECTION_POOL_SIZE: "20"
  CONNECTION_POOL_MAX_OVERFLOW: "0"